<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
    name="fa" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="9f4a6a7b-5a9a-4e7c-b18f-1efb5a3a0001">

    <!-- Dataset: JSONQL root 'items' -->
    <queryString language="jsonql"><![CDATA[items]]></queryString>

    <!-- Parameters (passados pela API como strings) -->
    <parameter name="fa_seccao" class="java.lang.String"/>
    <parameter name="fa_numero" class="java.lang.String"/>
    <parameter name="fa_data" class="java.lang.String"/>
    <parameter name="fa_rolos" class="java.lang.String"/>
    <parameter name="fa_pesos" class="java.lang.String"/>
    <parameter name="fa_estado" class="java.lang.String"/>
    <parameter name="total_rolos" class="java.lang.String"/>
    <parameter name="total_pesos" class="java.lang.String"/>

    <!-- Fields (detalhe) -->
    <field name="data" class="java.lang.String"/>
    <field name="linha" class="java.lang.Integer"/>
    <field name="nome" class="java.lang.String"/>
    <field name="descricao" class="java.lang.String"/>
    <field name="composicao" class="java.lang.String"/>
    <field name="rolos" class="java.lang.Integer"/>
    <field name="pesos" class="java.lang.Double"/>

    <title>
        <band height="72">
            <staticText>
                <reportElement x="0" y="0" width="555" height="26" uuid="t1"/>
                <textElement textAlignment="Center">
                    <font size="16" isBold="true"/>
                </textElement>
                <text><![CDATA[Ficha de Acabamento]]></text>
            </staticText>

            <line>
                <reportElement x="0" y="28" width="555" height="1" uuid="t2"/>
            </line>

            <textField>
                <reportElement x="0" y="34" width="270" height="18" uuid="t3"/>
                <textFieldExpression><![CDATA["Nº Ficha: " + $P{fa_numero} + "  |  Seção: " + $P{fa_seccao}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="285" y="34" width="270" height="18" uuid="t4"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Data: " + $P{fa_data}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="0" y="54" width="270" height="18" uuid="t5"/>
                <textFieldExpression><![CDATA["Totais — Rolos: " + $P{total_rolos} + "  |  Kg: " + $P{total_pesos}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="285" y="54" width="270" height="18" uuid="t6"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Estado: " + $P{fa_estado}]]></textFieldExpression>
            </textField>
        </band>
    </title>

    <columnHeader>
        <band height="20">
            <staticText>
                <reportElement x="0" y="0" width="60" height="20" uuid="h1"/>
                <textElement><font isBold="true"/></textElement>
                <text><![CDATA[Data]]></text>
            </staticText>
            <staticText>
                <reportElement x="60" y="0" width="40" height="20" uuid="h2"/>
                <textElement><font isBold="true"/></textElement>
                <text><![CDATA[Linha]]></text>
            </staticText>
            <staticText>
                <reportElement x="100" y="0" width="120" height="20" uuid="h3"/>
                <textElement><font isBold="true"/></textElement>
                <text><![CDATA[Cliente]]></text>
            </staticText>
            <staticText>
                <reportElement x="220" y="0" width="165" height="20" uuid="h4"/>
                <textElement><font isBold="true"/></textElement>
                <text><![CDATA[Artigo]]></text>
            </staticText>
            <staticText>
                <reportElement x="385" y="0" width="90" height="20" uuid="h5"/>
                <textElement><font isBold="true"/></textElement>
                <text><![CDATA[Composição]]></text>
            </staticText>
            <staticText>
                <reportElement x="475" y="0" width="40" height="20" uuid="h6"/>
                <textElement textAlignment="Right"><font isBold="true"/></textElement>
                <text><![CDATA[Rolos]]></text>
            </staticText>
            <staticText>
                <reportElement x="515" y="0" width="40" height="20" uuid="h7"/>
                <textElement textAlignment="Right"><font isBold="true"/></textElement>
                <text><![CDATA[Kg]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="18">
            <textField>
                <reportElement x="0" y="0" width="60" height="18" uuid="d1"/>
                <textFieldExpression><![CDATA[$F{data}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="60" y="0" width="40" height="18" uuid="d2"/>
                <textFieldExpression><![CDATA[$F{linha}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="100" y="0" width="120" height="18" uuid="d3"/>
                <textFieldExpression><![CDATA[$F{nome}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="220" y="0" width="165" height="18" uuid="d4"/>
                <textFieldExpression><![CDATA[$F{descricao}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="385" y="0" width="90" height="18" uuid="d5"/>
                <textFieldExpression><![CDATA[$F{composicao}]]></textFieldExpression>
            </textField>
            <textField pattern="#,#00">
                <reportElement x="475" y="0" width="40" height="18" uuid="d6"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA[$F{rolos}]]></textFieldExpression>
            </textField>
            <textField pattern="#,#00.00">
                <reportElement x="515" y="0" width="40" height="18" uuid="d7"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA[$F{pesos}]]></textFieldExpression>
            </textField>
        </band>
    </detail>

    <pageFooter>
        <band height="18">
            <textField>
                <reportElement x="455" y="0" width="100" height="18" uuid="f1"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>

</jasperReport>

